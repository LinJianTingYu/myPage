webpackJsonp([47],{Luci:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("4YfN"),n=s.n(a),i=s("9rMa"),r={name:"login",computed:n()({},Object(i.e)({prom:function(t){return t.prom},user:function(t){return t.user}})),data:function(){return{username:"",password:"",isLoging:!1,author:window.APP_INFO.author,version:window.APP_INFO.version,appName:window.APP_INFO.appName}},mounted:function(){console.log(this.user)},methods:n()({},Object(i.b)(["login"]),{handleLogin:function(){var t=this;if(this.username&&this.password){var e={username:this.username,password:this.password};this.$http.post(this.user.httppath+"/api/WebUser/Login",e).then(function(e){console.log(e),"不存在该用户"===e?t.$notify({title:"警告",message:"不存在该用户",type:"warning"}):"密码不正确，请重新输入"===e?t.$notify({title:"警告",message:"密码输入错误",type:"warning"}):(sessionStorage.setItem("pname","default"),console.log(e),t.login({username:t.username,password:t.password,ticket:e.ticket}),t.$message.success("登录成功"),t.$router.push({name:"home"}))})}else this.$notify({title:"警告",message:"用户名和密码不能为空",type:"warning"})},goRegister:function(){this.$router.push({name:"p-register"})}})},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fullscreen"},[s("div",{staticClass:"login-box"},[t._m(0),t._v(" "),s("p",{staticClass:"text-tips-header"},[t._v("你好，欢迎登录")]),t._v(" "),s("form",{staticClass:"login-form",attrs:{action:""}},[s("div",{staticClass:"m-list-group"},[s("div",{staticClass:"m-list-group-item"},[s("label",{staticClass:"m-label",attrs:{for:"username"}},[t._v("用户名称")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"m-input",attrs:{type:"text",placeholder:"登录用户名,2-10个字符"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"m-list-group-item"},[s("label",{staticClass:"m-label",attrs:{for:"username"}},[t._v("密    码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"m-input",attrs:{type:"password",placeholder:"必须包含字母、数字,长度不小于8位"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"m-btn-box"},[s("button",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoging,expression:"isLoging"}],staticClass:"m-btn sub select-none",on:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("登录")])])]),t._v(" "),s("p",{staticClass:"text-tips"},[t._v("没有有账号？")]),t._v(" "),s("a",{staticClass:"m-btn m-btn-text",on:{click:function(e){return e.preventDefault(),t.goRegister(e)}}},[t._v("快速注册")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"text-align":"center"}},[e("img",{staticClass:"logo",attrs:{src:s("7Otq"),alt:""}})])}]};var l=s("C7Lr")(r,o,!1,function(t){s("Vg4g")},null,null);e.default=l.exports},Vg4g:function(t,e){}});
//# sourceMappingURL=47.138b32b62a3d4416c844.js.map
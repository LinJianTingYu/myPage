webpackJsonp([3],{"+xTp":function(t,e){},"/vch":function(t,e){},"2fMK":function(t,e,s){"use strict";var i=s("4YfN"),n=s.n(i),r=s("9rMa"),a=s("qwAB"),c={props:["songDataes","rank"],components:{Loading:s("y/jF").a},data:function(){return{}},methods:{selectItem:function(t,e){this.$emit("select",t,e)},getRankCls:function(t){return t<3?"icon  icon"+t:"text"},setText:function(t){return t<3?void 0:t+1}},computed:{},created:function(){}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"song-list"},[s("ul",t._l(t.songDataes,function(e,i){return s("li",{staticClass:"song-item",on:{click:function(s){t.selectItem(e,i)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.rank,expression:"rank"}],staticClass:"rank"},[s("span",{class:t.getRankCls(i)},[t._v(t._s(t.setText(i)))])]),t._v(" "),s("div",{staticClass:"content"},[s("h3",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"desc"},[t._v(t._s(e.singer)+" · "+t._s(e.album))])])])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.songDataes.length,expression:"!songDataes.length"}],staticClass:"loading-container"},[s("loading")],1)])},staticRenderFns:[]};var l=s("C7Lr")(c,o,!1,function(t){s("k7v6")},"data-v-22b92da0",null).exports,u={mixins:[s("F4+m").a],props:{songs:{required:!0},bgurl:{required:!0},title:{required:!0},rank:{default:!1}},components:{SongList:l,scroll:a.a},computed:n()({},Object(r.c)(["singer"])),data:function(){return{scrollY:0,maxTranslateY:0,showPlay:!0}},methods:n()({},Object(r.d)({setPlaying:"SET_PLAYING",setPlayList:"SET_PLAY_LIST"}),Object(r.b)(["selectPlay","randomPlay"]),{playMusic:function(t){this.setPlayList(t),this.setPlaying(!0)},selectItem:function(t,e){this.selectPlay({list:this.songs,index:e})},randomPlayList:function(){console.log(1),this.randomPlay({list:this.songs})},handleBack:function(){this.$router.go(-1)},scroll:function(t){this.scrollY=-t.y},layerTranslate:function(t){var e=Math.min(this.maxTranslateY,t);this.$refs.layer.style.transform="translate3d(0, "+-e+"px, 0)",t>this.maxTranslateY?(this.showPlay=!1,this.$refs.singerHeadBg.style.height=this.$refs.singerName.offsetHeight+"px",this.$refs.singerHeadBg.style["z-index"]=1):(this.showPlay=!0,this.$refs.singerHeadBg.style.height=this.singerHeadBgHeight+"px",this.$refs.singerHeadBg.style["z-index"]=0)},scaleHeadBg:function(t){if(t<0){var e=-t/this.singerHeadBgHeight+1;this.$refs.singerHeadBg.style["z-index"]=1,this.$refs.singerHeadBg.style.transform="scale("+e+")"}},handlePlayList:function(t){t.length&&(this.$refs.musicList.$el.style.bottom="60px",this.$refs.musicList.refresh())}}),watch:{scrollY:function(t){t>0&&this.layerTranslate(t),t<0&&this.scaleHeadBg(t)}},mounted:function(){this.maxTranslateY=this.$refs.singerHeadBg.offsetHeight-this.$refs.singerName.offsetHeight,this.singerHeadBgHeight=this.$refs.singerHeadBg.offsetHeight}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"singer-detail"},[s("h3",{ref:"singerName",staticClass:"singer-name"},[s("span",{staticClass:"back-btn",on:{click:t.handleBack}},[s("i",{staticClass:"icon-back"})]),t._v(" "),s("span",{staticClass:"name"},[t._v(t._s(t.title))])]),t._v(" "),s("div",{ref:"singerHeadBg",staticClass:"singer-head-mask",style:{backgroundImage:"url("+t.bgurl+")"}},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.showPlay,expression:"showPlay"}],staticClass:"play-music",on:{click:t.randomPlayList}},[t._m(0),t._v(" "),s("span",{staticClass:"text"},[t._v("随机播放全部")])])]),t._v(" "),s("div",{ref:"layer",staticClass:"bg-layer"}),t._v(" "),s("scroll",{ref:"musicList",staticClass:"music-list",attrs:{data:t.songs,listenScroll:!0,probeType:3},on:{scroll:t.scroll}},[s("div",{staticClass:"song-list-wrapper"},[s("song-list",{attrs:{songDataes:t.songs,rank:t.rank},on:{select:t.selectItem}})],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"play-btn"},[e("i",{staticClass:"icon-play"})])}]};var d=s("C7Lr")(u,h,!1,function(t){s("Rr7R")},"data-v-fb01da52",null);e.a=d.exports},"34KM":function(t,e){},"3Hpq":function(t,e){t.exports="data:image/gif;base64,R0lGODlhKAAoAIABANM6Mf///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI2QURFODRFRkZBRTExRTU4NTg0QTdFMUQ4QkI2MTI1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI2QURFODRGRkZBRTExRTU4NTg0QTdFMUQ4QkI2MTI1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjZBREU4NENGRkFFMTFFNTg1ODRBN0UxRDhCQjYxMjUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjZBREU4NERGRkFFMTFFNTg1ODRBN0UxRDhCQjYxMjUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQJCgABACwAAAAAKAAoAAACeIyPqcvtD6OctNoD8rUZ7Np9VChKZAmdqKOuTOsqcIzMtGHfuaxxfbRrBGu/UfExXCRxxwRsGdg9m0IqpgmVYq1KbnTrMXmnYeAYzCtf1em2E11lf+VkFpxIP+f37td93dfF9zboVwhIaHfItJjoiBd4IzlJWalQAAAh+QQJCgABACwAAAAAKAAoAAACfIyPqcvtD6OctNqLs94WeB55AAiJ5GOeTaoubJu8nBzQGm0zuYF/0l7zIYAxocvIQzqAvVHROVRGoYemgqm0PpfZLjX53YqnV2nVWw5j1ejxkQ1Pc+Nu8FxeD4bJea2uzRf4hidotwJ4RvenmEg42IfoaFioB2N5iZmZUAAAIfkECQoAAQAsAAAAACgAKAAAAn+Mj6nL7Q+jnLRaCPK1GezafVTIaRIJmhE6qpg7sY98wg692g3+egnNm9mAup6C6EslD8hL8zcsGp4I6sI6jS6PWu42EAR3od8wVlyWor1s8m1chV/l2fQ3bm/j33m3n3F2tvfHREdYp1d4p5iIePgYqBbZB2goKIKZqbnJ+VAAACH5BAUKAAEALAAAAAAoACgAAAJ8jI+py+0PIwRUWkbB3Sjz731bKFpkGZ1mJaktm8KX29CT/Ng57ug9XwPeNC/iSLjwBY1DEFKhxDwTLl/0UH1eDVkmlNf9eqng8thqFquX606aTT6/pfJ6OznH5u/cfQBtF8cnSOgWSDcYBmeYqOWniFiod4hSaXmJmWlRAAA7"},"3lsP":function(t,e){},"9cIF":function(t,e,s){"use strict";var i=s("rVsN"),n=s.n(i),r=s("aA9S"),a=s.n(r),c=s("T452"),o=s("aozt"),l=s.n(o),u=(s("Gak4"),"");e.a=function(t){var e=h?"/api/lyric":"https://yujian.store/music/api/lyric",s=a()({},c.b,{songmid:t,platform:"yqq",hostUin:0,needNewCode:0,categoryId:1e7,pcachetime:+new Date,format:"json"});return l.a.get(e,{params:s}).then(function(t){return n.a.resolve(t.data)})},e.b=function(t){var e=h?"/api/getPurlUrl":"https://yujian.store/music/api/getPurlUrl",s=[],i=[];t.forEach(function(t){s.push(t.mid),i.push(0)});var r=function(t,e){return{module:"vkey.GetVkeyServer",method:"CgiGetVkey",param:{guid:function(){if(u)return u;if(!u){var t=(new Date).getUTCMilliseconds();u=""+Math.round(2147483647*Math.random())*t%1e10}return u}(),songmid:t,songtype:e,uin:"0",loginflag:0,platform:"23"}}}(s,i),o=a()({},c.b,{g_tk:5381,format:"json",platform:"h5",needNewCode:1,uin:0});return new n.a(function(t,s){var i=3;function n(){return l.a.post(e,{comm:o,url_mid:r}).then(function(e){var s=e.data;if(s.code===c.a){var i=s.url_mid;if(i&&i.code===c.a){var n=i.data.midurlinfo[0];n&&n.purl?t(s):a()}else a()}else a()})}function a(){--i>=0?n():s(new Error("Can not get the songs url"))}n()})};var h=!1},BRgg:function(t,e,s){"use strict";e.b=function(){var t=n()({},a.b,{uin:0,needNewCode:1,platform:"h5"});return Object(r.a)("https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg",t,a.c)},e.a=function(t){var e=n()({},a.b,{topid:t,needNewCode:1,uin:0,tpl:3,page:"detail",type:"top",platform:"h5"});return Object(r.a)("https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg",e,a.c)};var i=s("aA9S"),n=s.n(i),r=s("Gak4"),a=s("T452")},Dq03:function(t,e){},ESGl:function(t,e){t.exports="data:image/gif;base64,R0lGODlhMgAxAIfXAAAAADMAAGYAAJkAAMwAAP8AAAAzADMzAGYzAJkzAMwzAP8zAABmADNmAGZmAJlmAMxmAP9mAACZADOZAGaZAJmZAMyZAP+ZAADMADPMAGbMAJnMAMzMAP/MAAD/ADP/AGb/AJn/AMz/AP//AAAAMzMAM2YAM5kAM8wAM/8AMwAzMzMzM2YzM5kzM8wzM/8zMwBmMzNmM2ZmM5lmM8xmM/9mMwCZMzOZM2aZM5mZM8yZM/+ZMwDMMzPMM2bMM5nMM8zMM//MMwD/MzP/M2b/M5n/M8z/M///MwAAZjMAZmYAZpkAZswAZv8AZgAzZjMzZmYzZpkzZswzZv8zZgBmZjNmZmZmZplmZsxmZv9mZgCZZjOZZmaZZpmZZsyZZv+ZZgDMZjPMZmbMZpnMZszMZv/MZgD/ZjP/Zmb/Zpn/Zsz/Zv//ZgAAmTMAmWYAmZkAmcwAmf8AmQAzmTMzmWYzmZkzmcwzmf8zmQBmmTNmmWZmmZlmmcxmmf9mmQCZmTOZmWaZmZmZmcyZmf+ZmQDMmTPMmWbMmZnMmczMmf/MmQD/mTP/mWb/mZn/mcz/mf//mQAAzDMAzGYAzJkAzMwAzP8AzAAzzDMzzGYzzJkzzMwzzP8zzABmzDNmzGZmzJlmzMxmzP9mzACZzDOZzGaZzJmZzMyZzP+ZzADMzDPMzGbMzJnMzMzMzP/MzAD/zDP/zGb/zJn/zMz/zP//zAAA/zMA/2YA/5kA/8wA//8A/wAz/zMz/2Yz/5kz/8wz//8z/wBm/zNm/2Zm/5lm/8xm//9m/wCZ/zOZ/2aZ/5mZ/8yZ//+Z/wDM/zPM/2bM/5nM/8zM///M/wD//zP//2b//5n//8z//////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQABAAAACwAAAAAMgAxAIcAAAAAADMAAGYAAJkAAMwAAP8AKwAAKzMAK2YAK5kAK8wAK/8AVQAAVTMAVWYAVZkAVcwAVf8AgAAAgDMAgGYAgJkAgMwAgP8AqgAAqjMAqmYAqpkAqswAqv8A1QAA1TMA1WYA1ZkA1cwA1f8A/wAA/zMA/2YA/5kA/8wA//8zAAAzADMzAGYzAJkzAMwzAP8zKwAzKzMzK2YzK5kzK8wzK/8zVQAzVTMzVWYzVZkzVcwzVf8zgAAzgDMzgGYzgJkzgMwzgP8zqgAzqjMzqmYzqpkzqswzqv8z1QAz1TMz1WYz1Zkz1cwz1f8z/wAz/zMz/2Yz/5kz/8wz//9mAABmADNmAGZmAJlmAMxmAP9mKwBmKzNmK2ZmK5lmK8xmK/9mVQBmVTNmVWZmVZlmVcxmVf9mgABmgDNmgGZmgJlmgMxmgP9mqgBmqjNmqmZmqplmqsxmqv9m1QBm1TNm1WZm1Zlm1cxm1f9m/wBm/zNm/2Zm/5lm/8xm//+ZAACZADOZAGaZAJmZAMyZAP+ZKwCZKzOZK2aZK5mZK8yZK/+ZVQCZVTOZVWaZVZmZVcyZVf+ZgACZgDOZgGaZgJmZgMyZgP+ZqgCZqjOZqmaZqpmZqsyZqv+Z1QCZ1TOZ1WaZ1ZmZ1cyZ1f+Z/wCZ/zOZ/2aZ/5mZ/8yZ///MAADMADPMAGbMAJnMAMzMAP/MKwDMKzPMK2bMK5nMK8zMK//MVQDMVTPMVWbMVZnMVczMVf/MgADMgDPMgGbMgJnMgMzMgP/MqgDMqjPMqmbMqpnMqszMqv/M1QDM1TPM1WbM1ZnM1czM1f/M/wDM/zPM/2bM/5nM/8zM////AAD/ADP/AGb/AJn/AMz/AP//KwD/KzP/K2b/K5n/K8z/K///VQD/VTP/VWb/VZn/Vcz/Vf//gAD/gDP/gGb/gJn/gMz/gP//qgD/qjP/qmb/qpn/qsz/qv//1QD/1TP/1Wb/1Zn/1cz/1f///wD//zP//2b//5n//8z///8AAAAAAAAAAAAAAAAI/wD3CRxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyj3JfN0qeUlT8lOemJjpk2yZNCgJft0iQ2bmCE9mcGkTyG0nkA56jNziaAyZQOVESvIps3GmzygFRSTJtO+ZWjSQCWYzAxGaJiEmC0YbcybMfvSTBJrEJqZohXZmTGj1aCYYWK70j0oJK83b+sQptGUKdMkYmkSKmNDkRY5cuUQNtY0JpOmyAkxIZNIzxs5b/IQEtOkCY1nrwopR2R3OnNCNMo6axqbcGXEcqbnKZzU+nPDtQ+DebONEFpnuWimLrzU1yE75gi5zkUzCQdvhL43Qv++0VWGsjSgFTbd2AvdpExpXN86V2+hbI3zJzXS1ijNuXPSJWSVRpm8kcYb8DlmIGwJ3WfRMsrkgF4aY6BXYRo5KKNJQutVFE0OQMSxhohxlDgiiWoEAcSGBg1YkRprqAGEjDPqAMSNMwKhgyY3LmNQhxQpA8o+mqgRhxpwxAHHGksmCcRXLJKV1EVNjghjlXDowOFGRoZoJJZrPImQixgZ+WUQZh4Zh5YHefLMRlUauYYRaxzBpJg/crQMEEyqaeaSURJ0CV4b8SginUvGEUR6ZH3yEY98qnGEjJF9tw9aHg2TyTCaJjjJMIw1Ro9A4YFUTzT01APVMoSSOmVKl44HBmtUrzYUEAA7"},"F4+m":function(t,e,s){"use strict";s.d(e,"a",function(){return a});var i=s("4YfN"),n=s.n(i),r=s("9rMa"),a={computed:n()({},Object(r.c)(["playList"])),watch:{playList:function(t){this.handlePlayList(t)}},methods:{handlePlayList:function(t){}},mounted:function(){this.handlePlayList(this.playList)},activated:function(){this.handlePlayList(this.playList)}}},FXeT:function(t,e){},Gak4:function(t,e,s){"use strict";e.a=function(t,e,s){return t+=(t.indexOf("?")<0?"?":"&")+function(t){var e="";for(var s in t){var i=void 0!==t[s]?t[s]:"";e+="&"+s+"="+encodeURIComponent(i)}return e?e.substring(1):""}(e),new n.a(function(e,i){a()(t,s,function(t,s){t?i(t):e(s)})})};var i=s("rVsN"),n=s.n(i),r=s("6yg2"),a=s.n(r)},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("IvJb"),n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"m-header"},[e("div",{staticClass:"icon"}),this._v(" "),e("h1",{staticClass:"text"},[this._v("Chicken Music")])])}]};var r=s("C7Lr")({data:function(){return{}}},n,!1,function(t){s("zq8h")},"data-v-1b98dd88",null).exports,a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("router-link",{staticClass:"tab-item",attrs:{to:"/recommend",tag:"div"}},[e("span",{staticClass:"tab-link"},[this._v("推荐")])]),this._v(" "),e("router-link",{staticClass:"tab-item",attrs:{to:"/singer",tag:"div"}},[e("span",{staticClass:"tab-link"},[this._v("歌手")])]),this._v(" "),e("router-link",{staticClass:"tab-item",attrs:{to:"/rank",tag:"div"}},[e("span",{staticClass:"tab-link"},[this._v("排行")])]),this._v(" "),e("router-link",{staticClass:"tab-item",attrs:{to:"/search",tag:"div"}},[e("span",{staticClass:"tab-link"},[this._v("搜索")])])],1)},staticRenderFns:[]};var c=s("C7Lr")({name:"tab"},a,!1,function(t){s("Xpjr")},"data-v-200bad2a",null).exports,o=s("4YfN"),l=s.n(o),u=s("9rMa"),h=s("qwAB"),d={props:{percent:{type:Number,default:0}},data:function(){return{isMove:!1}},methods:{touchstart:function(t){this.touch.initiated=!0;t.touches[0].pageX,this.$refs.progressBar.offsetLeft},touchmove:function(t){if(this.touch.initiated){var e=t.changedTouches[0].pageX-this.$refs.progressBar.offsetLeft;this.currentPercent=e/this.$refs.progressBar.offsetWidth,this.currentPercent>1&&(this.currentPercent=1),this.currentPercent<0&&(this.currentPercent=0),this.setPos(this.currentPercent),this.$emit("percentChange",this.currentPercent),this.isMove=!0}},touchend:function(){this.touch.initiated=!1,this.$emit("changeCurrentTime",this.currentPercent)},setPos:function(t){if(this.isMove)this.isMove=!1;else{var e=this.$refs.progressBar.offsetWidth,s=this.$refs.progressInner,i=this.$refs.progressBtn;s.style.width=e*t+"px",i.style.left=e*t-8+"px"}},progressClick:function(t){var e=t.pageX-this.$refs.progressBar.offsetLeft;this.currentPercent=e/this.$refs.progressBar.offsetWidth,this.$emit("changeCurrentTime",this.currentPercent)}},watch:{percent:function(t){this.setPos(t)}},created:function(){this.touch={}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"progress",on:{click:t.progressClick}},[s("div",{ref:"progressBar",staticClass:"progress-bar",on:{touchmove:t.touchmove,touchstart:function(e){return e.stopPropagation(),t.touchstart(e)},touchend:t.touchend}},[s("div",{ref:"progressInner",staticClass:"progress-inner"}),t._v(" "),s("div",{ref:"progressBtn",staticClass:"progress-btn"})])])},staticRenderFns:[]};var f=s("C7Lr")(d,m,!1,function(t){s("rbmS")},null,null).exports,p={props:{radius:{type:Number,default:100},percent:{type:Number,default:0}},data:function(){return{dashArray:100*Math.PI}},computed:{dashOffset:function(){return(1-this.percent)*this.dashArray}}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress-circle"},[e("svg",{attrs:{width:this.radius,height:this.radius,viewBox:"0 0 100 100",version:"1",xmlns:"http://www.w3.org/2000/svg"}},[e("circle",{staticClass:"progress-background",attrs:{r:"50",cx:"50",cy:"50",fill:"transparent"}}),this._v(" "),e("circle",{staticClass:"progress-bar",attrs:{r:"50",cx:"50",cy:"50",fill:"transparent","stroke-dasharray":this.dashArray,"stroke-dashoffset":this.dashOffset}})]),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var v=s("C7Lr")(p,g,!1,function(t){s("lOFK")},"data-v-45fbac44",null).exports,A=s("MYfc"),y=s.n(A),_=0,C=1,S=2;var M=function(t){for(var e,s,i=t.slice(),n=0;n<i.length;n++){var r=(e=0,s=n,Math.floor(Math.random()*(s-e+1)+e)),a=i[n];i[n]=i[r],i[r]=a}return i},L=function(t,e){return t.findIndex(function(t){return t.id===e.id})},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"comfirm"},[e("div",{staticClass:"comfirm-box"},[e("h2",{staticClass:"tips"},[this._v("确定清空全部搜索历史")]),this._v(" "),e("div",{staticClass:"handle"},[e("span",{staticClass:"cancel",on:{click:this.cancel}},[this._v("取消")]),this._v(" "),e("span",{staticClass:"comfirm_1",on:{click:this.comfirm}},[this._v("确认")])])])])},staticRenderFns:[]};var T=s("C7Lr")({methods:{comfirm:function(){this.$emit("isClear",!0)},cancel:function(){this.$emit("isClear",!1)}}},w,!1,function(t){s("TPW8")},"data-v-307bf51a",null).exports,E={data:function(){return{playModeState:"",comfirm:!1}},components:{Scroll:h.a,Comfirm:T},computed:l()({},Object(u.c)(["sequenceList","playMode"]),{playModeIcon:function(){return this.playMode===S?(this.playModeState="随机播放","icon-random"):this.playMode===C?(this.playModeState="单曲循环","icon-loop"):(this.playModeState="列表播放","icon-sequence")}}),methods:l()({},Object(u.b)(["clearPlay","deleteSongItem","playListSong"]),{closePlayList:function(){this.$emit("closePlayList")},clearPlayList:function(){this.comfirm=!0},isClear:function(t){console.log(t),this.comfirm=!1,t&&(this.clearPlay(),this.closePlayList())},changePlayMode:function(){this.$emit("changePlayMode")},deleteSong:function(t){this.deleteSongItem(t)},playSong:function(t){this.playListSong(t)}}),watch:{playList:function(t){console.log(t)}}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"list-fade"}},[s("div",{ref:"playList",staticClass:"play-list"},[s("div",{staticClass:"mask",on:{click:t.closePlayList}}),t._v(" "),s("div",{staticClass:"play-list-wrapper"},[s("p",{staticClass:"play-list-head"},[s("i",{staticClass:"play-mode",class:t.playModeIcon,on:{click:t.changePlayMode}}),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(t.playModeState))]),t._v(" "),s("i",{staticClass:"clear icon-clear",on:{click:t.clearPlayList}})]),t._v(" "),s("scroll",{staticClass:"play-list-box",attrs:{data:t.sequenceList}},[s("ul",{staticClass:"play-list-body"},t._l(t.sequenceList,function(e){return s("li",{staticClass:"song-item",on:{click:function(s){s.stopPropagation(),t.playSong(e)}}},[s("p",{staticClass:"text"},[t._v(t._s(e.name)),s("span",{staticClass:"name"},[t._v(" - "+t._s(e.singer))])]),t._v(" "),s("i",{staticClass:"icon-delete",on:{click:function(s){s.stopPropagation(),t.deleteSong(e)}}})])}))])],1),t._v(" "),t.comfirm?s("comfirm",{on:{isClear:t.isClear}}):t._e()],1)])},staticRenderFns:[]};var z=s("C7Lr")(E,b,!1,function(t){s("ihOb")},"data-v-eb523b62",null).exports,x={components:{ProgressBar:f,ProgressCircle:v,scroll:h.a,PlayList:z},data:function(){return{songReady:!1,currentTime:0,isShow:!1,currentShow:"cd",currentLyric:null,currentLineNum:0,playingLyric:"",opacity:1,showPlayList:!1}},computed:l()({},Object(u.c)(["playList","fullScreen","currendSong","playing","currendIndex","playMode"]),{playIcon:function(){return this.playing?"icon-pause":"icon-play"},playIconMiNi:function(){return this.playing?"icon-pause-mini":"icon-play-mini"},cdCls:function(){return this.playing?"play":"paused play"},percent:function(){return this.currentTime/this.currendSong.duration},playModeIcon:function(){return this.playMode===S?"icon-random":this.playMode===C?"icon-loop":"icon-sequence"},playModeState:function(){return 0===this.playMode?"列表循环":1===this.playMode?"单曲循环":"随机播放"}}),methods:l()({},Object(u.d)(["SET_FULL_SCREEN","SET_PLAYING","SET_CUREENT_INDEX","SET_PLAY_MODE","SET_PLAY_LIST"]),Object(u.b)(["resetPlayList"]),{closeFullScreen:function(){this.SET_FULL_SCREEN(!1)},openFullScreen:function(){this.SET_FULL_SCREEN(!0)},setCurrentTime:function(t){var e=this.currendSong.duration*t;this.$refs.audio.currentTime=e,this.currentLyric&&this.currentLyric.seek(1e3*e)},togglePlaying:function(){this.$refs.audio.paused?this.SET_PLAYING(!0):this.SET_PLAYING(!1),this.currentLyric&&this.currentLyric.togglePlay()},ready:function(){this.songReady=!0},error:function(){console.log(1),this.songReady=!0},end:function(){if(1===this.playMode)return this.$refs.audio.load(),void this.$refs.audio.play();this.nextSong()},nextSong:function(){if(this.songReady){var t=this.currendIndex+1;t===this.playList.length&&(t=0),this.SET_CUREENT_INDEX(t),this.songReady=!1}},prevSong:function(){var t=this.currendIndex-1;-1===t&&(t=this.playList.length-1),this.SET_CUREENT_INDEX(t),this.songReady=!1},updateTime:function(t){this.currentTime=this._pad(t.target.currentTime)},percentChange:function(t){var e=this.currendSong.duration*t;this.currentTime=e,this.currentLyric&&this.currentLyric.seek(1e3*e)},_pad:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s=t.toString().length;s<e;)t="0"+t,s++;return t},format:function(t){return((t|=0)/60|0)+":"+this._pad(t%60)},changePlayMode:function(){var t=this;this.isShow=!0,setTimeout(function(){t.isShow=!1},2e3);var e=this.playMode+1;e>2&&(e=0),this.SET_PLAY_MODE(e),1!==this.playMode&&this.resetPlayList({list:this.playList})},middleStart:function(t){this.touch.initiated=!0,this.touch.moved=!1;var e=t.touches[0];this.touch.startX=e.pageX,this.touch.startY=e.pageY},middleMove:function(t){if(this.touch.initiated){var e=t.touches[0],s=e.pageX-this.touch.startX,i=e.pageY-this.touch.startY;if(!(Math.abs(i)>Math.abs(s))){this.touch.moved||(this.touch.moved=!0);var n="cd"===this.currentShow?0:-window.innerWidth,r=Math.min(0,Math.max(-window.innerWidth,n+s));this.$refs.lyricList.$el.style.transform="translate3d("+r+"px,0,0)",this.touch.percent=Math.abs(r/window.innerWidth),this.$refs.cdWrapper.style.opacity=1-this.touch.percent}}},middleEnd:function(t){this.touch.moved&&("cd"===this.currentShow?(this.$refs.lyricList.$el.style.transform="translate3d("+-window.innerWidth+"px,0,0)",this.$refs.cdWrapper.style.opacity=0,this.currentShow="lyric"):(this.$refs.lyricList.$el.style.transform="translate3d(0px,0,0)",this.$refs.cdWrapper.style.opacity=1,this.currentShow="cd"))},getLyric:function(){var t=this;this.currendSong.getLyric().then(function(e){t.currentLyric=new y.a(e,t.handleLyric),t.playing&&t.currentLyric.play()})},handleLyric:function(t){var e=t.lineNum,s=t.txt;if(this.$refs.lyricLine){if(this.currentLineNum=e,e>4){var i=this.$refs.lyricLine[e-4];this.$refs.lyricList.scrollToElement(i,1e3)}else this.$refs.lyricList.scrollTo(0,0,1e3);this.playingLyric=s}},closePlayList:function(){this.showPlayList&&(this.showPlayList=!1)}}),watch:{playing:function(t){var e=this.$refs.audio;this.$nextTick(function(){t?e.play():e.pause()})},currendSong:function(t,e){var s=this;t.id!==e.id&&(this.$refs.audio.src=t.url,this.$refs.audio.play(),this.SET_PLAYING(!0),this.currentLyric&&(this.currentLyric.stop(),this.currentLyric=null,this.currentTime=0,this.playingLyric="",this.currentLineNum=0),clearTimeout(this.timer),this.timer=setTimeout(function(){s.songReady=!0},5e3),this.getLyric())}},mounted:function(){},created:function(){this.touch={}}},P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.playList.length,expression:"playList.length"}],staticClass:"player-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.fullScreen,expression:"fullScreen"}],staticClass:"normal-player"},[s("div",{staticClass:"background"},[s("img",{attrs:{src:t.currendSong.image,width:"100%",height:"100%"}})]),t._v(" "),s("div",{staticClass:"top"},[s("div",{staticClass:"closeFullScreen",on:{click:function(e){return e.stopPropagation(),t.closeFullScreen(e)}}},[s("i",{staticClass:"icon-back"})]),t._v(" "),s("h2",{staticClass:"title"},[t._v(t._s(t.currendSong.name))]),t._v(" "),s("h3",{staticClass:"subtitle"},[t._v(t._s(t.currendSong.singer))])]),t._v(" "),s("div",{staticClass:"middle",on:{touchstart:t.middleStart,touchmove:t.middleMove,touchend:t.middleEnd}},[s("div",{ref:"cdWrapper",staticClass:"middle-l"},[s("div",{staticClass:"cd-wrapper"},[s("div",{ref:"cd",staticClass:"cd"},[s("img",{staticClass:"image",class:t.cdCls,attrs:{src:t.currendSong.image,width:"100%",height:"100%"}})])])]),t._v(" "),s("scroll",{ref:"lyricList",staticClass:"middle-r",attrs:{data:t.currentLyric&&t.currentLyric.lines}},[s("div",{staticClass:"lyric-wrapper"},[t.currentLyric?s("div",t._l(t.currentLyric.lines,function(e,i){return s("p",{ref:"lyricLine",refInFor:!0,staticClass:"lyric-text",class:{current:t.currentLineNum===i},domProps:{innerHTML:t._s(e.txt)}})})):s("div",[s("p",{staticClass:"lyric-text"},[t._v("\n                此歌曲为没有填词的纯音乐，请您欣赏\n              ")])])])])],1),t._v(" "),s("div",{staticClass:"bottom"},[s("div",{staticClass:"dot-wrapper"},[s("span",{staticClass:"dot",class:{active:"cd"===t.currentShow}}),t._v(" "),s("span",{staticClass:"dot",class:{active:"lyric"===t.currentShow}})]),t._v(" "),s("div",{staticClass:"progress-wrapper"},[s("span",{staticClass:"time time-l"},[t._v(t._s(t.format(t.currentTime)))]),t._v(" "),s("div",{staticClass:"progress-bar-wrapper"},[s("progress-bar",{attrs:{percent:t.percent},on:{changeCurrentTime:t.setCurrentTime,percentChange:t.percentChange}})],1),t._v(" "),s("span",{staticClass:"time time-r"},[t._v(t._s(t.format(t.currendSong.duration)))])]),t._v(" "),s("div",{staticClass:"operators"},[s("div",{staticClass:"icon i-left"},[s("i",{class:t.playModeIcon,on:{click:t.changePlayMode}})]),t._v(" "),s("div",{staticClass:"icon i-left"},[s("i",{staticClass:"icon-prev",on:{click:t.prevSong}})]),t._v(" "),s("div",{staticClass:"icon i-center"},[s("i",{staticClass:"needsclick",class:t.playIcon,on:{click:t.togglePlaying}})]),t._v(" "),s("div",{staticClass:"icon i-right"},[s("i",{staticClass:"icon-next",on:{click:t.nextSong}})]),t._v(" "),t._m(0),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"play-mode-wrapper"},[s("span",{staticClass:"play-mode-state"},[t._v(t._s(t.playModeState))])])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.fullScreen,expression:"!fullScreen"}],staticClass:"mini-player",on:{click:t.openFullScreen}},[s("div",{staticClass:"head-icon"},[s("div",{staticClass:"img-wrapper",class:t.cdCls},[s("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:t.currendSong.image}})])]),t._v(" "),s("div",{staticClass:"text"},[s("h2",{staticClass:"name"},[t._v(t._s(t.currendSong.name))]),t._v(" "),s("p",{staticClass:"desc"},[t._v(t._s(t.currendSong.singer))])]),t._v(" "),s("div",{staticClass:"control"},[s("i",{staticClass:"icon-play-mini",class:t.playIconMiNi}),t._v(" "),s("div",{staticClass:"progress-circle-wrapper",on:{click:function(e){return e.stopPropagation(),t.togglePlaying(e)}}},[s("progress-circle",{attrs:{percent:t.percent,radius:30}})],1)]),t._v(" "),s("div",{staticClass:"control"},[s("i",{staticClass:"icon-playlist",on:{click:function(e){e.stopPropagation(),t.showPlayList=!t.showPlayList}}})])]),t._v(" "),t.showPlayList?s("play-list",{ref:"playlist",on:{closePlayList:t.closePlayList,changePlayMode:t.changePlayMode}}):t._e(),t._v(" "),s("audio",{ref:"audio",on:{canplay:t.ready,error:t.error,timeupdate:t.updateTime,ended:t.end}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon i-right"},[e("i",{staticClass:"icon icon-not-favorite"})])}]};var I={name:"App",components:{"m-header":r,"m-tab":c,Player:s("C7Lr")(x,P,!1,function(t){s("Scqc")},"data-v-ca07d4f6",null).exports}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("m-header"),this._v(" "),e("m-tab"),this._v(" "),e("keep-alive",[e("router-view")],1),this._v(" "),e("player")],1)},staticRenderFns:[]};var N=s("C7Lr")(I,Z,!1,function(t){s("OpT3")},"data-v-0dbc632a",null).exports,k=s("zO6J"),R=s("aA9S"),q=s.n(R),Y=s("Gak4"),D=s("T452"),j=s("aozt"),G=s.n(j);var F=s("y/jF"),O=s("F4+m"),B={mixins:[O.a],data:function(){return{Singers:[],newSingers:[],listHeight:[],scrollY:0,currentIndex:0,diff:-1,pagenum:0}},components:{Scroll:h.a,Loading:F.a},methods:{_getSingerList:function(){for(var t=this,e=function(e){var s,i;(s=e,i=q()({},D.b,{channel:"singer",page:"list",key:"all_all_all",pagesize:100,pagenum:s,hostUin:0,needNewCode:0,platform:"yqq"}),Object(Y.a)("https://c.y.qq.com/v8/fcg-bin/v8.fcg",i,D.c)).then(function(s){t.pagenum=e,s.code===D.a&&(t.Singers=t.Singers.concat(s.data.list))})},s=1;s<6;s++)e(s);setTimeout(function(){t.newSingers=t._normalLizeSinger(t.Singers)},200)},_normalLizeSinger:function(t){var e={hot:{title:"热门",items:[]}};t.forEach(function(t,s){s<10&&e.hot.items.push({id:t.Fsinger_mid,name:t.Fsinger_name,headIcon:"http://y.gtimg.cn/music/photo_new/T001R300x300M000"+t.Fsinger_mid+".jpg?max_age=2592000"});var i=t.Findex;e[i]||(e[i]={title:i,items:[]}),e[i].items.push({id:t.Fsinger_mid,name:t.Fsinger_name,headIcon:"http://y.gtimg.cn/music/photo_new/T001R300x300M000"+t.Fsinger_mid+".jpg?max_age=2592000"})});var s=[],i=[];for(var n in e){var r=e[n];"热门"===r.title?s.push(r):r.title.match(/[a-zA-Z]/)&&i.push(r)}return i.sort(function(t,e){return t.title.charCodeAt(0)-e.title.charCodeAt(0)}),s.concat(i)},_calculateHeight:function(){var t=0,e=document.getElementsByClassName("singer-class");this.listHeight.push(t);for(var s=0;s<e.length;s++){t+=e[s].clientHeight,this.listHeight.push(t)}},scroll:function(t){this.scrollY=-t.y,this.currentIndex=this._currentIndex()},_currentIndex:function(){if(this.scrollY<=0)return 0;for(var t=0;t<this.listHeight.length;t++){var e=this.listHeight[t],s=this.listHeight[t+1];if(this.diff=s-this.scrollY,this.scrollY>=e&&this.scrollY<s)return t}return this.listHeight.length-2},skipSingerClass:function(t,e){this._scrollTo(t),this.touch.y1=e.changedTouches[0].pageY,this.touch.index=t,this.currentIndex=t},onTouchMove:function(t){this.touch.y2=t.changedTouches[0].pageY;var e=(this.touch.y2-this.touch.y1)/20;this.currentIndex=Math.floor(e+this.touch.index),this.currentIndex>22&&(this.currentIndex=22),this.currentIndex<0&&(this.currentIndex=0),this._scrollTo(this.currentIndex)},_scrollTo:function(t){var e=document.getElementsByClassName("singer-class")[t];this.$refs.newSingers.scrollToElement(e,400)},selectSinger:function(t){this.$emit("selectSinger",t)},handlePlayList:function(t){t.length&&(this.$refs.newSingers.$el.style.bottom="60px",this.$refs.newSingers.refresh())}},created:function(){var t=this;this._getSingerList(),setTimeout(function(){t._calculateHeight()},500),this.touch={y1:null,y2:null,index:null}},computed:{singerTitle:function(){return this.newSingers[this.currentIndex]?this.newSingers[this.currentIndex].title:""}},watch:{diff:function(t){var e=t>0&&t<30?t-30+"px":0;this.fixedTop!==e&&(this.fixedTop=e,this.$refs.singerTitle.style.transform="translate3d(0,"+e+",0)")}}},$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("scroll",{ref:"newSingers",staticClass:"singger-wrapper",attrs:{data:t.newSingers,listenScroll:!0,probeType:3},on:{scroll:t.scroll}},[s("ul",{ref:"singerList",staticClass:"singer-list"},t._l(t.newSingers,function(e){return s("li",{staticClass:"singer-class"},[s("h3",{staticClass:"singer-class-name"},[t._v(t._s(e.title))]),t._v(" "),t._l(e.items,function(e){return s("div",{staticClass:"singer-item",on:{click:function(s){t.selectSinger(e)}}},[s("div",{staticClass:"singerIcon"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.headIcon,expression:"item.headIcon"}]})]),t._v(" "),s("div",{staticClass:"singerName"},[t._v("\n            "+t._s(e.name)+"\n          ")])])})],2)})),t._v(" "),s("div",{staticClass:"singerFloor"},[s("ul",{on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),t.onTouchMove(e)}}},t._l(t.newSingers,function(e,i){return s("li",{staticClass:"singerFloorItem",class:{actived:i===t.currentIndex},on:{touchstart:function(e){e.stopPropagation(),e.preventDefault(),t.skipSingerClass(i,e)}}},[t._v(t._s(e.title.slice(0,1)))])}))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.newSingers.length,expression:"!newSingers.length"}],staticClass:"loading-container"},[s("loading")],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.scrollY>0,expression:"scrollY>0"}],ref:"singerTitle",staticClass:"fixed-title"},[t._v(t._s(t.singerTitle))])])],1)},staticRenderFns:[]};var H={components:{ListView:s("C7Lr")(B,$,!1,function(t){s("Dq03")},"data-v-61d6f514",null).exports},methods:l()({},Object(u.d)({setSinger:"SET_SINGER"}),{selectSinger:function(t){this.setSinger(t),this.$router.push({path:"/singer/"+t.id})}})},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"singer"},[e("list-view",{on:{selectSinger:this.selectSinger}}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var V=s("C7Lr")(H,U,!1,function(t){s("i+da")},"data-v-c855ac0c",null).exports,J=s("BRgg"),Q={name:"rank",mixins:[O.a],data:function(){return{topList:[]}},methods:l()({},Object(u.d)(["SET_CURRENT_TOPLIST"]),{handlePlayList:function(t){t.length&&(this.$refs.rank.style.bottom="60px",this.$refs.topList.refresh())},selectItem:function(t){this.$router.push({path:"/rank/"+t.id}),this.SET_CURRENT_TOPLIST(t)}}),created:function(){var t=this;Object(J.b)().then(function(e){e.code===D.a&&(t.topList=e.data.topList)})},components:{Scroll:h.a,Loading:F.a}},K={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"rank",staticClass:"rank"},[this.topList.length?s("scroll",{ref:"topList",staticClass:"toplist",attrs:{data:t.topList}},[s("ul",t._l(t.topList,function(e){return s("li",{staticClass:"item",on:{click:function(s){t.selectItem(e)}}},[s("div",{staticClass:"icon"},[s("img",{attrs:{width:"100",height:"100",src:e.picUrl}})]),t._v(" "),s("div",{staticClass:"songlist"},t._l(e.songList,function(e,i){return s("li",{staticClass:"song"},[s("span",[t._v(t._s(i+1))]),t._v(" "),s("span",[t._v(t._s(e.songname)+"-"+t._s(e.singername))])])}))])}))]):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.topList.length,expression:"!topList.length"}],staticClass:"loading-container"},[s("loading")],1),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var W=s("C7Lr")(Q,K,!1,function(t){s("PIqv")},"data-v-5807d149",null).exports,X=s("m40h"),tt=s("yKqG");var et={props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:3e3}},data:function(){return{dots:[],currentIndex:0}},methods:{_setSliderWidth:function(t){this.children=this.$refs.sliderGroup.children;for(var e,s=0,i=this.$refs.slider.offsetWidth,n=this.children.length-1;n>=0;n--){var r=this.children[n];e="slider-item",function(t,e){return t.className.indexOf(e)>=0}&&r.classList.add(e),r.style.width=i+"px",s+=i}this.loop&&!t&&(s+=2*i),this.$refs.sliderGroup.style.width=s+"px"},_initSlider:function(){var t=this;this.slider=new tt.a(this.$refs.slider,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshol:.3,speed:400},click:!0}),this.slider.on("scrollEnd",function(){var e=t.slider.currentPage.pageX;t.loop&&(e-=1),t.currentIndex=e,t.autoPlay&&(clearTimeout(t.timer),t._autoPlay())})},_initDots:function(){this.dots=new Array(this.children.length)},_autoPlay:function(){var t=this;this.currentIndex;this.timer=setTimeout(function(){t.slider.next(400)},this.interval)}},mounted:function(){var t=this;this.$nextTick(function(){t._setSliderWidth(),t._initDots(),t._initSlider(),t.autoPlay&&t._autoPlay()}),window.addEventListener("resize",function(){t.slider&&(t._setSliderWidth(!0),t.slider.refresh())})},destroyed:function(){clearTimeout(this.timer)}},st={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"slider",staticClass:"slider"},[s("div",{ref:"sliderGroup",staticClass:"slider-group"},[t._t("default")],2),t._v(" "),s("div",{staticClass:"dots"},t._l(t.dots,function(e,i){return s("span",{staticClass:"dot",class:{dotActive:t.currentIndex===i}})}))])},staticRenderFns:[]};var it=s("C7Lr")(et,st,!1,function(t){s("p7Bh")},"data-v-b9ac642a",null).exports,nt={mixins:[O.a],name:"recommend",components:{Slider:it,Scroll:h.a,Loading:F.a},data:function(){return{recommends:[],discList:[],cdList:[],discListPage:0,searchMore:!1}},created:function(){this._getRecommend(),this._getPlayList(this.discListPage)},computed:{},methods:l()({},Object(u.d)(["SET_CURRENT_DISC"]),{_getRecommend:function(){var t=this;Object(X.c)().then(function(e){e.code===D.a&&(t.recommends=e.data.slider)})},_getPlayList:function(t){var e=this,s=29*t,i=29*(t+1);Object(X.b)(s,i).then(function(t){if(0===t.data.code){console.log(t.data.data.list);var s=t.data.data.list;e.discList=e.discList.concat(s)}})},handlePlayList:function(t){t.length&&(this.$refs.recommendContent.$el.style.bottom="60px",this.$refs.recommendContent.refresh())},handleDisc:function(t){this.$router.push({path:"/recommend/"+t.dissid}),this.SET_CURRENT_DISC(t)},moreDiscList:function(){this.searchMore=!0,this._getPlayList(this.discListPage+1)}})},rt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommend"},[s("scroll",{ref:"recommendContent",staticClass:"recommend-content",attrs:{data:t.discList,pullup:!0},on:{scrollToEnd:t.moreDiscList}},[s("div",[t.recommends.length?s("div",{staticClass:"slider-wrapper"},[s("div",{staticClass:"slider-content"},[s("slider",{ref:"slider"},t._l(t.recommends,function(t){return s("div",[s("a",{attrs:{href:t.linkUrl}},[s("img",{attrs:{src:t.picUrl}})])])}))],1)]):t._e(),t._v(" "),s("div",{staticClass:"recommend-list"},[s("h1",{staticClass:"list-title"},[t._v("热门歌单")]),t._v(" "),s("ul",{},[t._l(t.discList,function(e){return s("li",{staticClass:"item",on:{click:function(s){t.handleDisc(e)}}},[s("div",{staticClass:"icon"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imgurl,expression:"item.imgurl"}],attrs:{alt:""}})]),t._v(" "),s("div",{staticClass:"text"},[s("h2",{staticClass:"name"},[t._v(t._s(e.creator.name))]),t._v(" "),s("p",{staticClass:"desc"},[t._v(t._s(e.dissname))])])])}),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.searchMore,expression:"searchMore"}]})],2)])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.discList.length,expression:"!discList.length"}],staticClass:"loading-contanier"},[s("loading")],1)]),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var at=s("C7Lr")(nt,rt,!1,function(t){s("omqb")},"data-v-428bbaee",null).exports,ct={data:function(){return{query:""}},props:{updataquery:""},methods:{clear:function(){this.query=""},debounce:function(t,e){var s=void 0;return function(){var i=this;s&&clearTimeout(s),s=setTimeout(function(){t.appy(i,argus)},e)}}},watch:{query:function(t){this.debounce(this.$emit("query",t),200)},updataquery:function(t){this.query=t}}},ot={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-box"},[s("i",{staticClass:"icon-search"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"query",staticClass:"box",attrs:{placeholder:"搜索歌曲、歌手"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),s("i",{staticClass:"icon-dismiss",on:{click:t.clear}})])},staticRenderFns:[]};var lt=s("C7Lr")(ct,ot,!1,function(t){s("wa+S")},"data-v-48b63ce8",null).exports,ut=s("rVsN"),ht=s.n(ut),dt=!1;var mt=s("PvFA"),ft={props:{query:{default:""}},data:function(){return{isZhidao:!1,zhida:{},songList:[]}},methods:l()({},Object(u.b)(["insertSong"]),{search:function(t){var e,s,i,n,r=this;(e=t,i=dt?"/api/search":"https://yujian.store/music/api/search",n=q()({},D.b,{w:e,p:s,perpage:20,n:20,zhidaqu:1,catZhida:1,t:0,flag:1,ie:"utf-8",sem:1,aggr:0,remoteplace:"txt.mqq.all",uin:0,needNewCode:1,platform:"h5",format:"json"}),G.a.get(i,{params:n}).then(function(t){return ht.a.resolve(t,n)})).then(function(t){if(t.data.code===D.a){var e=t.data.data;e.zhida.type>0?(r.isZhidao=!0,r.zhida=e.zhida):r.isZhidao=!1,r.songList=e.song.list}})},select:function(){var t={id:this.zhida.singermid,name:this.zhida.singername,headIcon:"http://y.gtimg.cn/music/photo_new/T001R300x300M000"+this.zhida.singermid+".jpg?max_age=2592000"};console.log(t),this.$emit("selectSinger",t)},creatSongItem:function(t){var e=[];return e.push(Object(mt.a)(t)),Object(mt.b)(e),e[0]},playMusic:function(t){t=this.creatSongItem(t),this.insertSong(t)}}),watch:{query:function(t){this.search(t)}}},pt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-result-wrapper"},[s("ul",{staticClass:"singer-list"},[s("li",{directives:[{name:"show",rawName:"v-show",value:t.isZhidao,expression:"isZhidao"}],staticClass:"item",on:{click:t.select}},[s("i",{staticClass:"icon-mine icon"}),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(t.zhida.singername))])])]),t._v(" "),s("ul",{staticClass:"song-list"},t._l(t.songList,function(e){return s("li",{staticClass:"item",on:{click:function(s){t.playMusic(e)}}},[s("i",{staticClass:"icon-music icon"}),t._v(" "),s("span",{staticClass:"text",domProps:{innerHTML:t._s(e.songname+" - "+e.singer[0].name)}})])}))])},staticRenderFns:[]};var gt=s("C7Lr")(ft,pt,!1,function(t){s("/vch")},"data-v-6127ab84",null).exports,vt={components:{},props:{searches:{type:Array,default:[]}},data:function(){return{}},methods:{selectItem:function(t){this.$emit("select",t)},deleteOne:function(t){this.$emit("delete",t)}},watch:{searches:function(t){}}},At={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-list"},[s("transition-group",{attrs:{name:"list",tag:"ul"}},t._l(t.searches,function(e,i){return s("li",{key:i,staticClass:"search-item",on:{click:function(s){t.selectItem(e)}}},[s("span",{staticClass:"text"},[t._v(t._s(e))]),t._v(" "),s("span",{staticClass:"icon",on:{click:function(s){s.stopPropagation(),t.deleteOne(e)}}},[s("i",{staticClass:"icon-delete"})])])}))],1)},staticRenderFns:[]};var yt=s("C7Lr")(vt,At,!1,function(t){s("kJ8w")},"data-v-eee16df0",null).exports,_t={mixins:[O.a],name:"search",components:{SearchResult:gt,SearchBox:lt,Scroll:h.a,SearchList:yt,Comfirm:T},data:function(){return{hotKey:[],query:"",comfirm:!1}},computed:l()({},Object(u.c)(["searchHistory"])),methods:l()({},Object(u.d)(["SET_SINGER"]),Object(u.b)(["clearSearchHistory","saveSearchHistory","deleteSearchHistory"]),{handlePlayList:function(t){t.length&&(this.$refs.shortcutWrapper.$el.style.bottom="60px",this.$refs.searchResult.style.bottom="60px",this.$refs.shortcutWrapper.refresh(),this.$refs.searchResultBox.refresh())},queryChange:function(t){t&&this.saveSearchHistory(t),this.query=t},selectSinger:function(t){this.$router.push({path:"/search/"+t.id}),this.SET_SINGER(t)},deleteHistory:function(t){this.deleteSearchHistory(t)},clearHistory:function(){this.comfirm=!0},isClear:function(t){this.comfirm=!1,t&&this.clearSearchHistory()}}),created:function(){var t,e=this;(t=q()({},D.b,{g_tk:5381,jsonpCallback:"hotSearchKeysmod_search",loginUin:0,hostUin:0,notice:0,platform:"yqq",needNewCode:0}),Object(Y.a)("https://c.y.qq.com/splcloud/fcgi-bin/gethotkey.fcg",t,D.c)).then(function(t){t.code===D.a&&(e.hotKey=t.data.hotkey.slice(0,10))})},watch:{query:function(t){}}},Ct={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("div",{staticClass:"search-box"},[s("search-box",{attrs:{updataquery:t.query},on:{query:t.queryChange}})],1),t._v(" "),s("scroll",{ref:"shortcutWrapper",staticClass:"shortcut-wrapper",attrs:{data:t.hotKey}},[s("div",{staticClass:"shortcutBox"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.query.length,expression:"!query.length"}],staticClass:"shortcut"},[s("div",{staticClass:"hot-key"},[s("h2",{staticClass:"hot-title"},[t._v("热门搜索")]),t._v(" "),s("ul",t._l(t.hotKey,function(e){return s("li",{staticClass:"hot-key-item",on:{click:function(s){t.queryChange(e.k)}}},[t._v("\n                "+t._s(e.k)+"\n              ")])}))]),t._v(" "),s("div",{staticClass:"search-history"},[s("h2",{staticClass:"history-title"},[s("span",{staticClass:"text"},[t._v("搜索历史")]),t._v(" "),s("span",{staticClass:"clear",on:{click:t.clearHistory}},[s("i",{staticClass:"icon-clear"})])]),t._v(" "),s("search-list",{attrs:{searches:t.searchHistory},on:{select:t.queryChange,delete:t.deleteHistory}})],1)])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.query.length,expression:"query.length"}],ref:"searchResult",staticClass:"search-result"},[s("search-result",{ref:"searchResultBox",attrs:{query:t.query,searches:t.searchHistory},on:{selectSinger:t.selectSinger}})],1),t._v(" "),t.comfirm?s("comfirm",{on:{isClear:t.isClear}}):t._e(),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var St=s("C7Lr")(_t,Ct,!1,function(t){s("3lsP")},"data-v-20f3b418",null).exports,Mt=(s("9cIF"),s("2fMK")),Lt={computed:l()({},Object(u.c)(["singer"]),{title:function(){return console.log(this.singer),this.singer.name}}),components:{musicList:Mt.a},data:function(){return{singerSonges:[],newSingerSonges:[]}},methods:{_normalLizeSong:function(t){var e=Object(mt.a)(t);this.newSingerSonges.push(e)}},created:function(){var t,e,s=this;(t=this.singer.id,e=q()({},D.b,{hostUin:0,loginUin:0,notice:0,order:"listen",g_tk:5381,needNewCode:0,platform:"yqq",begin:0,num:50,songstatus:1,singermid:t}),Object(Y.a)("https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg",e,D.c)).then(function(t){t.code===D.a&&(s.singerSonges=t.data.list,s.singerSonges.forEach(function(t){s._normalLizeSong(t.musicData)}),Object(mt.b)(s.newSingerSonges))})}},wt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"slider"}},[e("music-list",{attrs:{songs:this.newSingerSonges,bgurl:this.singer.headIcon,title:this.title}})],1)},staticRenderFns:[]};var Tt=s("C7Lr")(Lt,wt,!1,function(t){s("FXeT")},"data-v-56f102e9",null).exports;i.a.use(k.a);var Et=new k.a({routes:[{path:"/",name:"recommend",redirect:"/recommend"},{path:"/singer",name:"singer",component:V,children:[{path:":id",component:Tt}]},{path:"/rank",name:"rank",component:W,children:[{path:":id",component:function(){return s.e(1).then(s.bind(null,"s3x3"))}}]},{path:"/recommend",name:"recommend",component:at,children:[{path:":id",component:function(){return s.e(0).then(s.bind(null,"NSSj"))}}]},{path:"/search",name:"search",component:St,children:[{path:":id",component:Tt}]}]}),bt=(s("34KM"),s("yPb9")),zt=s.n(bt),xt=s("iDdd"),Pt=s.n(xt),It={singer:[],playList:[],sequenceList:[],fullScreen:!1,playMode:_,playing:!1,currendIndex:-1,currentDisc:[],currentTopList:[],searchHistory:[],searchQuery:""};var Zt={selectPlay:function(t,e){var s=t.commit,i=t.state,n=e.list,r=e.index;if(s("SET_SEQUENCE_LIST",n),2===i.playMode){var a=M(n);s("SET_PLAY_LIST",a),r=L(a,n[r])}else s("SET_PLAY_LIST",n);s("SET_FULL_SCREEN",!0),s("SET_PLAYING",!0),s("SET_CUREENT_INDEX",r)},randomPlay:function(t,e){var s=t.commit,i=(t.state,e.list);s("SET_PLAY_MODE",S);var n=M(i);s("SET_SEQUENCE_LIST",i),s("SET_CUREENT_INDEX",0),s("SET_PLAY_LIST",n),s("SET_FULL_SCREEN",!0),s("SET_PLAYING",!0)},resetPlayList:function(t,e){var s=t.commit,i=t.state,n=e.list;if(i.playMode===S){var r=M(n);s("SET_PLAY_LIST",r),s("SET_CUREENT_INDEX",L(r,n[i.currendIndex]))}if(i.playMode===_){var a=i.sequenceList;s("SET_PLAY_LIST",a),s("SET_CUREENT_INDEX",L(a,n[i.currendIndex]))}},saveSearchHistory:function(t,e){(0,t.commit)("SET_SEARCH_HISTORY",function(t,e){var s=t.filter(function(t){return t!==e});return s.unshift(e),s}(t.state.searchHistory,e))},deleteSearchHistory:function(t,e){(0,t.commit)("SET_SEARCH_HISTORY",function(t,e){return t.filter(function(t){return t!==e})}(t.state.searchHistory,e))},clearSearchHistory:function(t){var e=t.commit;t.state;e("SET_SEARCH_HISTORY",[])},insertSong:function(t,e){var s=t.commit,i=t.state,n=i.currendIndex,r=i.sequenceList,a=i.playList,c=L(a,e);n++,a.splice(n,0,e),c>-1&&(n>c?(a.splice(c,1),n--):a.splice(c+1,1));var o=L(r,e);if(r.splice(n,0,e),o>-1){var l=L(r,e);n>l?(r.splice(l,1),n--,console.log(1)):r.splice(l+1,1)}s("SET_CUREENT_INDEX",n),s("SET_PLAY_LIST",a),s("SET_SEQUENCE_LIST",r),s("SET_FULL_SCREEN",!0),s("SET_PLAYING",!0)},clearPlay:function(t){var e=t.commit;t.state;e("SET_PLAYING",!1),e("SET_PLAY_LIST",[]),e("SET_SEQUENCE_LIST",[]),e("SET_FULL_SCREEN",!1)},deleteSongItem:function(t,e){var s=t.commit,i=t.state,n=i.currendIndex,r=i.sequenceList,a=i.playList,c=L(a,e);a.splice(c,1),console.log(r.length,a.length),(n>c||n===a.length)&&n--,s("SET_PLAY_LIST",a),s("SET_SEQUENCE_LIST",r),s("SET_CUREENT_INDEX",n),a.length?s(SET_PLAYING_STATE,!0):s(SET_PLAYING_STATE,!1)},playListSong:function(t,e){var s=t.commit,i=t.state.playList;s("SET_CUREENT_INDEX",L(i,e)),s("SET_FULL_SCREEN",!0),s("SET_PLAYING",!0)}},Nt={SET_SINGER:function(t,e){t.singer=e},SET_PLAY_LIST:function(t,e){t.playList=e},SET_FULL_SCREEN:function(t,e){t.fullScreen=e},SET_PLAY_MODE:function(t,e){t.playMode=e},SET_PLAYING:function(t,e){t.playing=e},SET_SEQUENCE_LIST:function(t,e){t.sequenceList=e},SET_CUREENT_INDEX:function(t,e){t.currendIndex=e},SET_CURRENT_DISC:function(t,e){t.currentDisc=e},SET_CURRENT_TOPLIST:function(t,e){t.currentTopList=e},SET_SEARCH_HISTORY:function(t,e){t.searchHistory=e},SET_SEARCH_QUERY:function(t,e){t.searchQuery=e}},kt={singer:function(t){return t.singer},playList:function(t){return t.playList},fullScreen:function(t){return t.fullScreen},playMode:function(t){return t.playMode},playing:function(t){return t.playing},sequenceList:function(t){return t.sequenceList},currendIndex:function(t){return t.currendIndex},currendSong:function(t){return t.playList[t.currendIndex]||{}},currentDisc:function(t){return t.currentDisc},currentTopList:function(t){return t.currentTopList},searchHistory:function(t){return t.searchHistory},searchQuery:function(t){return t.searchQuery}};i.a.use(u.a);var Rt=new u.a.Store({state:It,actions:Zt,mutations:Nt,getters:kt});i.a.use(zt.a,{loading:s("ESGl")}),i.a.prototype.globalClick=function(t){document.onclick=function(){t()}},Pt.a.attach(document.body),i.a.config.productionTip=!1,new i.a({el:"#app",router:Et,store:Rt,components:{App:N},template:"<App/>"})},OpT3:function(t,e){},PIqv:function(t,e){},PvFA:function(t,e,s){"use strict";e.a=function(t){return new d({id:t.songid,mid:t.songmid,singer:function(t){var e="";if(t.length>1)return t.forEach(function(t){e+=t.name+"/"}),e.slice(0,e.length-1);return e=t[0].name}(t.singer),name:t.songname,album:t.albumname,duration:t.interval,image:"https://y.gtimg.cn/music/photo_new/T002R300x300M000"+t.albummid+".jpg?max_age=2592000",url:t.url})},e.b=function(t){if(!t.length)return n.a.resolve(t);return Object(l.b)(t).then(function(e){if(e.code===u.a){var s=e.url_mid.data.midurlinfo;s.forEach(function(e,s){var i=t[s];i.url=e.purl})}return t})};var i=s("rVsN"),n=s.n(i),r=s("AA3o"),a=s.n(r),c=s("xSur"),o=s.n(c),l=s("9cIF"),u=s("T452"),h=s("6VRP"),d=(s.n(h),function(){function t(e){var s=e.id,i=e.mid,n=e.singer,r=e.name,c=e.album,o=e.duration,l=e.image,u=e.url;a()(this,t),this.id=s,this.mid=i,this.singer=n,this.name=r,this.album=c,this.duration=o,this.image=l,this.filename="C400"+this.mid+".m4a",this.url=u}return o()(t,[{key:"getLyric",value:function(){var t=this;return this.lyric?n.a.resolve(this.lyric):new n.a(function(e,s){Object(l.a)(t.mid).then(function(i){i.retcode===u.a?(t.lyric=h.Base64.decode(i.lyric),e(t.lyric)):s("no lyric")})})}}]),t}())},Rr7R:function(t,e){},Scqc:function(t,e){},T452:function(t,e,s){"use strict";s.d(e,"b",function(){return i}),s.d(e,"c",function(){return n}),s.d(e,"a",function(){return r});var i={g_tk:1928093487,inCharset:"utf-8",outCharset:"utf-8",notice:0,format:"jsonp"},n={param:"jsonpCallback",prefix:"jp"},r=0},TPW8:function(t,e){},Xpjr:function(t,e){},"i+da":function(t,e){},ihOb:function(t,e){},k7v6:function(t,e){},kJ8w:function(t,e){},lOFK:function(t,e){},m40h:function(t,e,s){"use strict";e.c=function(){var t=a()({},o.b,{platform:"h5",uin:5,needNewCode:1});return Object(c.a)("https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg",t,o.c)},e.b=function(t,e){var s=a()({},o.b,{platform:"yqq",hostUin:0,sin:t,ein:e,sortId:5,needNewCode:0,categoryId:1e7,rnd:Math.random(),format:"json"});return u.a.get("/splcloud/fcgi-bin/fcg_get_diss_by_tag.fcg",{params:s}).then(function(t){return n.a.resolve(t,s)})},e.a=function(t){var e=a()({},o.b,{type:1,json:1,utf8:1,onlysong:0,disstid:t,g_tk:5381,loginUin:0,hostUin:0,platform:"yqq",needNewCode:0,format:"json"});return u.a.get("/qzone/fcg-bin/fcg_ucc_getcdinfo_byids_cp.fcg",{params:e}).then(function(t){return n.a.resolve(t,e)})};var i=s("rVsN"),n=s.n(i),r=s("aA9S"),a=s.n(r),c=s("Gak4"),o=s("T452"),l=s("aozt"),u=s.n(l)},omqb:function(t,e){},p7Bh:function(t,e){},qwAB:function(t,e,s){"use strict";var i=s("yKqG"),n={props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},data:{type:Array,default:null},listenScroll:{type:Boolean,default:!1},pullup:{type:Boolean,default:!1}},methods:{_initScroll:function(){var t=this;this.$refs.wrapper&&(this.scroll=new i.a(this.$refs.wrapper,{probeType:this.probeType,click:this.click}),this.listenScroll&&this.scroll.on("scroll",function(e){t.$emit("scroll",e)}),this.pullup&&this.scroll.on("scrollEnd",function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")}))},refresh:function(){this.scroll&&this.scroll.refresh()},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)}},mounted:function(){var t=this;setTimeout(function(){t._initScroll()},20)},watch:{data:function(){var t=this;setTimeout(function(){t.refresh()},20)}}},r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"wrapper"},[this._t("default")],2)},staticRenderFns:[]},a=s("C7Lr")(n,r,!1,null,null,null);e.a=a.exports},rbmS:function(t,e){},"wa+S":function(t,e){},"y/jF":function(t,e,s){"use strict";var i={props:{title:{type:String,default:"正在载入..."}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading"},[e("img",{attrs:{src:s("3Hpq"),alt:"",width:"24",height:"24"}}),this._v(" "),e("p",{staticClass:"desc"},[this._v(this._s(this.title))])])},staticRenderFns:[]};var r=s("C7Lr")(i,n,!1,function(t){s("+xTp")},"data-v-ed6657ba",null);e.a=r.exports},zq8h:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.033a4ae95dd68a2b2382.js.map
webpackJsonp([40],{D1KC:function(t,e){},WTgq:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("4YfN"),r=s.n(a),i=s("9rMa"),n={name:"login",computed:r()({},Object(i.e)({user:function(t){return t.user}})),data:function(){return{username:"",email:"",newPassword:"",confirmPassword:""}},methods:{discardChange:function(){window.history.back(-1)},ueserNamePattern:function(){return!(!/^[a-zA-Z\u4e00-\u9fa5]{2,10}$/.test(this.username)&&this.username)||!!this.username&&(this.$notify.error({title:"用户名输入错误",message:"用户名为2-10个字符"}),!1)},emailPattern:function(){return!!/^([a-z0-9_.-]+)@([\da-z.-]+)\.([a-z.]{2,6})$/.test(this.email)||!!this.email&&(this.$notify.error({title:"邮箱输入错误",message:"请输入正确的邮箱"}),!1)},passwordPattern:function(t,e){return!(!/^(\w){6,20}$/.test(t)&&t)||!!t&&(this.$notify.error({title:"密码输入错误",message:"只能输入6-20个字母、数字、下划线  "}),e.target.value="",!1)},handResetPassWord:function(){var t=this;if(this.confirmPassword!==this.newPassword)return this.$notify.error({title:"密码输入错误",message:"两次输入的密码不一致"});if(!(this.username&&this.newPassword&&this.confirmPassword&&this.email))return this.$notify.error({title:"输入信息不能为空",message:"请完整填写相关内容 "});var e={username:this.username,password:this.newPassword,confirmPassword:this.confirmPassword,email:this.email};console.log(e),this.$http.post(this.user.httppath+"/api/WebUser/ResetPasswd",e).then(function(e){if(console.log(e),"用户名和邮箱不匹配"===e)return t.$notify.error({title:"输入信息不能为空",message:"用户名或注册邮箱输入错误"});t.$notify.success({title:"修改成功",message:"密码修改成功 "}),t.$router.replace({name:"login"}),sessionStorage.clear()})}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fullscreen"},[s("div",{staticClass:"register-box"},[t._m(0),t._v(" "),s("p",{staticClass:"text-tips-header"},[t._v("你好，欢迎修改密码")]),t._v(" "),s("form",{staticClass:"login-form",attrs:{action:""}},[s("div",{staticClass:"m-list-group"},[s("div",{staticClass:"m-list-group-item"},[s("label",{staticClass:"m-label",attrs:{for:"username"}},[t._v("用户名称")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"m-input",attrs:{type:"text",placeholder:"登录用户名,2-10个字符"},domProps:{value:t.username},on:{blur:t.ueserNamePattern,input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"m-list-group-item"},[s("label",{staticClass:"m-label",attrs:{for:"username"}},[t._v("注册邮箱")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"m-input",attrs:{type:"email",placeholder:"E-mail"},domProps:{value:t.email},on:{blur:t.emailPattern,input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"m-list-group-item"},[s("label",{staticClass:"m-label",attrs:{for:"newPassword"}},[t._v("新密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"m-input",attrs:{type:"password",placeholder:"只能输入6-20个字母、数字、下划线 "},domProps:{value:t.newPassword},on:{blur:function(e){t.passwordPattern(t.newPassword,e)},input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"m-list-group-item"},[s("label",{staticClass:"m-label",attrs:{for:"confirmPassword"}},[t._v("确认密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"m-input",attrs:{type:"password",placeholder:"请确认密码"},domProps:{value:t.confirmPassword},on:{blur:function(e){t.passwordPattern(t.confirmPassword,e)},input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})])]),t._v(" "),s("button",{staticClass:"m-btn sub select-none",on:{click:function(e){return e.preventDefault(),t.handResetPassWord(e)}}},[t._v("确认修改")]),t._v(" "),s("p",{staticClass:"text-tips"},[t._v("放弃修改？")]),t._v(" "),s("a",{staticClass:"m-btn m-btn-text",on:{click:function(e){return e.preventDefault(),t.discardChange(e)}}},[t._v("确认放弃修改？")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"text-align":"center"}},[e("img",{staticClass:"logo",attrs:{src:s("7Otq"),alt:""}})])}]};var l=s("C7Lr")(n,o,!1,function(t){s("D1KC")},null,null);e.default=l.exports}});
//# sourceMappingURL=40.0c6bc9dcb07fe4e49405.js.map
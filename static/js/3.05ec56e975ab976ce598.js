webpackJsonp([3],{P7Ks:function(e,t){},Rrpz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("4YfN"),a=n.n(i),l=n("9rMa"),o=n("BrW7"),s={components:{"v-selectTable":n("t/0k").a},computed:a()({},Object(l.c)(["getpm_kpitypety"]),Object(l.e)({prom:function(e){return e.prom},user:function(e){return e.user},pm:function(e){return e.pm},pmTypeNow:function(e){return e.pm.pm_typeNow}}),{initPageNum:function(){return this.pm.pm_kpivalues.length},getpmtype:function(){return"3g rbs"===this.pm.pm_typeNow?"PM_3G_RBS":"3g rnc"===this.pm.pm_typeNow?"PM_3G_RNC":"4g"===this.pm.pm_typeNow?"PM_4G":"PM_NBIoT"}}),data:function(){return{result:[],rowDate:{},kpitypety:[{name:"接入"},{name:"掉话"},{name:"切换"},{name:"话务量"}],kpiType:"接入",kpiType_en:"",kpiTable2:[],kpiTable:[{kpiC:"RNC 建立连接请求次数",kpiE:"RNC 建立连接请求次数",counter:"pmRrcConnEstabAtt - pmRrcConnEstabAttReatt",isCalculate:!1},{kpiC:"RNC 连接建立成功次数",kpiE:"RNC 连接建立成功次数",counter:"pmRrcConnEstabAtt - pmRrcConnEstabAttReatt",isCalculate:!1}],pmData:[],pmDataColums:{kpiC:"中文名称"},isloading:!1}},created:function(){sessionStorage.getItem("pname")&&this.setpname_prom(sessionStorage.getItem("pname")),window.addEventListener("beforeunload",function(){sessionStorage.setItem("pname",sessionStorage.getItem("pname"))})},methods:a()({},Object(l.d)(["setpm_kpivules","setpname_prom"]),{handleCurrentChange:function(e){this.pmData=this.pm.pm_kpivalues},typeChange:function(){console.log("typeChange 切换类型函数"),this.setpm_kpivules(this.kpiType),this.handleCurrentChange(1),console.log(this.kpiType),this.$refs.kpitable.multipleSelection=[]},output:function(){0!==this.result.length&&Object(o.a)(this.result)},getkpi:function(){var e=this,t=[];console.log("这是getkpi 函数"),console.log(this.$refs.kpitable.multipleSelection);var n=this.$refs.kpitable.multipleSelection;for(var i in n)t.push(n[i].kpiE);var a=[{kpiName:t,kpiType:this.kpiType_en}],l={projectname:this.prom.prom_pname,username:JSON.parse(sessionStorage.user).username,filetype:this.getpmtype};console.log(l),this.isloading=!0,this.$http.post(this.user.httppath+"/api/Pm/GetKpiData",a,{headers:l}).then(function(t){e.result=t,e.$notify({title:"成功",message:"解析成功",type:"success"}),e.isloading=!1}).catch(function(t){e.$notify({title:"警告",message:t,type:"warning"}),e.isloading=!1})}}),watch:{pmTypeNow:function(e){this.pmData=[],this.$refs.kpitable.multipleSelection=[]},kpiType:function(e){this.kpiType_en="接入"===e?"Integrity":"掉话"===e?"Mobility":"切换"===e?"Retainability":"话务量"===e?"Accessibility":e}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-header",[n("br"),e._v(" "),n("el-radio-group",{attrs:{size:"mini"},on:{change:e.typeChange},model:{value:e.kpiType,callback:function(t){e.kpiType=t},expression:"kpiType"}},e._l(e.getpm_kpitypety,function(e,t){return n("el-radio-button",{key:t,attrs:{label:e.name}})}),1),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){e.output()}}},[e._v("导出")]),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini",loading:e.isloading},on:{click:function(t){e.getkpi()}}},[e._v("解析")]),e._v(" "),n("br"),e._v(" "),n("br")],1),e._v(" "),n("el-main",[n("el-container",[n("el-aside",{attrs:{width:"300px"}},[n("v-selectTable",{ref:"kpitable",attrs:{tableData:e.pmData,columns:e.pmDataColums}})],1),e._v(" "),n("el-main",[n("el-main",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.result}},e._l(e.result[0],function(t,i){return n("el-table-column",{key:i,attrs:{label:i},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row[i])+"\n              ")]}}])})}),1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var p=n("C7Lr")(s,r,!1,function(e){n("P7Ks")},null,null);t.default=p.exports},"t/0k":function(e,t,n){"use strict";var i=n("ZLEe"),a=n.n(i),l={computed:{tables:function(){var e=this,t=this.search;return t?this.tableData.filter(function(n){return a()(n).some(function(i){return!!e.columns.hasOwnProperty(i)&&String(n[i]).toLowerCase().indexOf(t)>-1})}):this.tableData}},props:{columns:{type:Object,default:function(){}},tableData:{type:Array,default:function(){return[]}}},data:function(){return{search:"",multipleSelection:[]}},methods:{toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){console.log("handleSelectionChange 函数")},selects:function(e,t){console.log("选择某一项触发的函数"),console.log(e),this.multipleSelection=e}},watch:{tables:function(e){var t=this;setTimeout(function(){t.toggleSelection(t.multipleSelection)},250)}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入关键字进行过滤","prefix-icon":"el-icon-search",size:"mini",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tables,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange,select:e.selects}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),e._l(e.columns,function(t,i){return n("el-table-column",{key:i,attrs:{label:t,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row[i]))]}}])})})],2)],1)},staticRenderFns:[]},s=n("C7Lr")(l,o,!1,null,null,null);t.a=s.exports}});
//# sourceMappingURL=3.05ec56e975ab976ce598.js.map